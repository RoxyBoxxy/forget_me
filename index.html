<!DOCTYPE html>
<html>
<head>
	<title>Forget Me</title>
	<script src="/socket.io/socket.io.js"></script>
	<script src="http://code.jquery.com/jquery-1.6.1.min.js"></script>
	<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Droid+Sans">
<script>function clearBox(elementID)
{
    document.getElementById(elementID).innerHTML = "";
}</script>
	<style type="text/css">
a.btn{position:absolute;z-index:999999999999;white-space:nowrap;outline:0;text-decoration:none;cursor:pointer;overflow:hidden;font:600 12px/18px "Helvetica Neue","HelveticaNeue",Helvetica,Arial,sans-serif;height:20px;padding:0 5px;-webkit-font-smoothing:antialiased;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box;-webkit-transition-property:padding;-moz-transition-property:padding;-ms-transition-property:padding;-o-transition-property:padding;transition-property:padding;-webkit-transition-duration:.1s;-moz-transition-duration:.1s;-ms-transition-duration:.1s;-o-transition-duration:.1s;transition-duration:.1s;-webkit-transition-timing-function:ease;-moz-transition-timing-function:ease;-ms-transition-timing-function:ease;-o-transition-timing-function:ease;transition-timing-function:ease}.btn{color:#fff;border:1px solid rgba(0,0,0,0.18);background:rgba(0,0,0,0.38);text-shadow:1px 1px 0 rgba(0,0,0,0.08)}a.btn,a.btn:hover{color:white!important}.btn{margin-bottom:5px;color:#fff;border:1px solid rgba(0,0,0,0.18);background:rgba(0,0,0,0.38);text-shadow:1px 1px 0 rgba(0,0,0,0.08);-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}.btn:hover::after,.btn:focus::after{background:rgba(255,255,255,0.09);color:white}.btn:active::after{background:rgba(255,255,255,0.18) color:white}.btn_label.show{display:block}.btn::after{position:absolute;top:0;right:0;bottom:0;left:0;content:'';-webkit-border-radius:inherit;-moz-border-radius:inherit;border-radius:inherit}.btn.icon::before{display:block;content:'';position:absolute;top:0;left:0;bottom:0;width:20px;border-radius:inherit;background:url('http://static.tumblr.com/tpqedpr/cQ1mbwb60/de.png') 0 0 no-repeat}.btn.theme::before{background-position:0 -0px}.btn img{width:15px}.btn.icon{padding-left:20px}.btn:active::after {background:rgba(255,255,255,0.18)}.clear {clear: both;} #pagination {display: all;}
</style>
	<style type="text/css">
	@import url(https://fonts.googleapis.com/css?family=Quicksand:300);
	body {
		margin:40px 0 0 0;
		background-color:#111;
		color:#eee;
		font-family: 'Quicksand';
		font-weight: bold;
	}
	.statictop {
		position: fixed;
		top:0;
		width:100%;
	}
	header {
		width:720px;
		margin:auto;
		padding:10px;
		box-shadow:0 0 5px black;
		background-color:#222;
	}
	.status1.connectednt {	color:red; }
	.status.connected {	color:#0a0; }
	.status.connecting { color:orange; }

	.container {
		width:720px;
		background-color:#fff;
		margin:auto;
		min-height:90%;
		box-shadow:0 0 5px black;
	}
	.avatar {
		float:left;
		padding:10px;
		background-color:#666;
		min-height:10px;
		width:100px;
	}
	.message {
		height:80%;
		padding:10px;
		margin-left:120px;
		background-color:#444;
	}
	.message-block {
		background-color:#666;
	}
	.servermessage {
		background-color:#558;
		padding:10px;
	}
	.messageinput {
		width:698px;
		padding:10px;
		border:1px solid #222;
		background-color:#222;
		color:#eee;
		margin:0 0 0;
		box-shadow: 0 0 5px black;
	}
	footer {
		width:720px;
		margin:auto;
	}
    video#bgvid { 
    position: fixed;
    top: 50%;
    left: 50%;
    min-width: 100%;
    min-height: 100%;
    width: auto;
    height: auto;
    z-index: -100;
    -webkit-transform: translateX(-50%) translateY(-50%);
    transform: translateX(-50%) translateY(-50%);
    background: url(polina.jpg) no-repeat;
    background-size: cover; 
}
    
	</style>
</head>
<body>
	<div class="statictop">
		<header>
			<input type="text" placeholder="Name" class="nameinput"/> Status: 
			  <span class="status">Loading</span> Connected IP:<span class="status5"><script language="JavaScript">
VIH_BackColor = "#222";
VIH_ForeColor = "Green";
VIH_FontPix = "16";
VIH_DisplayFormat = "%%IP%%";
VIH_DisplayOnPage = "yes";
</script></span>
<script language="JavaScript" src="http://scripts.hashemian.com/js/visitorIPHOST.js.php"></script></span></span><span class="status2">
	<script language="JavaScript">
// FHS Tumblr Online Counter
var height = '28'; 
var fhs = document.createElement('script');var fhs_id = "5069078";
var ref = (''+document.referrer+'');var pn =  window.location;var w_h = window.screen.width + " x " + window.screen.height;
fhs.src = "http://freehostedscripts.net/ocounter.php?site="+fhs_id+"&e1=Online User&e2=Online Users&r="+ref+"&m=0&wh="+w_h+"&a=1&pn="+pn+"&s=1&a=1&h=&h="+height+"";
document.head.appendChild(fhs);document.write("<span id='o_"+fhs_id+"'></span>");
</script>
</span>
		</header>
	</div>
	<div class="container">
		<div class="messages">
		</div>
	</div>
	<footer>
		<form>
			<input type="text" placeholder="Message... and Hit Enter" class="messageinput"/>
		</form>
	</footer>
	<script type="text/javascript">

	var socket = io.connect();

	socket.on('connecting', function () {
		console.log('connecting');
		$('.status').html('Connecting');
		$('.status').addClass('connecting');
	});

	socket.on('connect', function () {
		console.log('connected');
		$('.status').html('Connected');
		$('.status').addClass('connected');
		$('.status').removeClass('connecting');
	});
	
		socket.on('connect', function () {
		console.log('connected');
		$('.status1').html('Not available');
		$('.status1').addClass('connectednt');
		$('.status1').removeClass('connecting');
	});

	socket.on('message', message);
	socket.on('servermessage', servermessage);
	socket.on('reconnect', function () {
		console.log('reconect');
	});

	socket.on('reconnecting', function () {
		console.log('reconect');
	});



	socket.on('error', function (e) {
		console.log('error');
	});

	function message (data) {
		console.log(data);
		$('.messages').append('<div class="message-block"><div class="avatar">' + 
		  data['message']['name'] + '</div><div class="message">' + data['message']['message'] + 
		  '</div>	<div style="clear:both;"></div></div>');

		window.scrollTo(0,document.body.scrollHeight);
	}

	function servermessage (data) {
		console.log(data);
		data = data.replace('\n', '<br/>');
		data = data.replace(' ', '&nbsp;');
		$('.messages').append('<div class="servermessage"><pre>' + data + '</pre></div>');
	}


      // dom manipulation
      $(function () {


      	$('form').submit(function () {
      		if(!$('.nameinput').val()) {alert('you have no name set');}
      		else if (!$('.messageinput').val()) {}	else {
      			socket.emit('message', {message: $('.messageinput').val(), name: $('.nameinput').val()});
      			message({message : {message: $('.messageinput').val(), name: $('.nameinput').val()}});
      			$('.messageinput').val('').focus();
      		}
      		return false;
      	});

      });


      </script>
  </body>
  <footer><button onclick="clearBox('bgvid')" /></footer>
  </html>
